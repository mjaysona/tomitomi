---
import { TagItem } from '@/interfaces/tags';
import Icon from 'astro-icon';
import TagGroup from './TagGroup.astro';

const articles = (await Astro.glob('../articles/*.md')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);

const {
  Content,
  frontmatter: {
    title,
  }
} = articles[0];

const data = [
  {
    label: 'New',
    size: 'sm',
    color: 'secondary',
  },
  {
    label: 'General',
    size: 'sm',
  }
] as TagItem[];
---

<div>
  <div>
    <TagGroup data={data} />
  </div>
  <div class="content">
    <h1>{title}</h1>
    <Content />
  </div>
  <div class="expand">
    <div><Icon name="akar-icons:circle-chevron-down-fill" /></div>
  </div>
</div>
<style lang="scss">
  @import '../styles/variables.scss';

  div {
    position: relative;
    h1 {
      color: $primary-color;
      margin: 12px 0 24px;
    }
    .content {
      height: 280px;
      overflow: hidden;
    }
    .expand {
      align-items: end;
      bottom: 0;
      display: flex;
      height: 140px;
      justify-content: center;
      position: absolute;
      width: 100%;

      /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#ffffff+0,ffffff+100&0+0,1+100 */
      background: -moz-linear-gradient(top,  rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%); /* FF3.6-15 */
      background: -webkit-linear-gradient(top,  rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%); /* Chrome10-25,Safari5.1-6 */
      background: linear-gradient(to bottom,  rgba(255,255,255,0) 0%,rgba(255,255,255,1) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#ffffff',GradientType=0 ); /* IE6-9 */

      > div {
        color: $primary-color;
        cursor: pointer;
        height: 40px;
        width: 40px;
        position: relative;
        top: 20px;
      }
    }
  }
</style>
